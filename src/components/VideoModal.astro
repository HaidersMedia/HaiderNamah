---
import type { VideoModalProps } from './VideoModal.client';

const { videoId, isOpen, onClose } = Astro.props as VideoModalProps;
---

{isOpen && (
  <div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50">
    <div class="relative w-full max-w-4xl bg-white rounded-lg overflow-hidden">
      <button 
        class="absolute top-4 right-4 text-white bg-black/50 rounded-full w-8 h-8 flex items-center justify-center hover:bg-black/70 transition-colors"
        onclick="window.closeModal()"
      >
        &times;
      </button>
      <div class="aspect-video">
        <iframe
          class="w-full h-full"
          src={`https://www.youtube.com/embed/${videoId}?autoplay=1`}
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen
        ></iframe>
      </div>
    </div>
  </div>
)}
